<!DOCTYPE html><html lang="en"><head ><title >LuaCommandProcessor</title><meta charset="UTF-8"/><link rel="stylesheet" type="text/css" href="lua-doc.css"/><script rel="stylesheet" type="text/javascript" src="lua-doc.js"></script></head><body ><div class="navigation-bar"><span class="navigation"><a href="index.html">Factorio</a> &raquo; <a href="Classes.html">Classes</a> &raquo; LuaCommandProcessor</span><span class="version">Factorio 1.1.38</span></div><h1 >LuaCommandProcessor</h1><div class="brief-description"><p > Allows for the registration of custom console commands. Similarly to <a href="LuaBootstrap.html#LuaBootstrap.on_event"> event subscriptions</a>, these don&#x27;t persist through a save-and-load cycle.
</p></div><div class="brief-listing"><div class="brief-listing" id="LuaCommandProcessor.brief">class <span class="type-name">LuaCommandProcessor</span> - <a class="sort" href="javascript:void(0)" onclick="sort('LuaCommandProcessor.brief');">sort</a><table class="brief-members"><tr ><td class="header"><span class="element-name"><a href="LuaCommandProcessor.html#LuaCommandProcessor.add_command">add_command</a>(name, help, function)</span></td><td class="description"> Add a custom console command.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaCommandProcessor.html#LuaCommandProcessor.remove_command">remove_command</a>(name) &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></span></span></td><td class="description"> Remove a custom console command.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaCommandProcessor.html#LuaCommandProcessor.commands">commands</a></span><span class="attribute-type"> :: <span class="param-type">dictionary[<span class="param-type"><a href="Builtin-Types.html#string">string</a></span> &rarr; <span class="param-type"><a href="Concepts.html#LocalisedString">LocalisedString</a></span>]</span></span><span class="attribute-mode"> [R]</span></td><td class="description"> Lists the custom commands registered by scripts through <code >LuaCommandProcessor</code>.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaCommandProcessor.html#LuaCommandProcessor.game_commands">game_commands</a></span><span class="attribute-type"> :: <span class="param-type">dictionary[<span class="param-type"><a href="Builtin-Types.html#string">string</a></span> &rarr; <span class="param-type"><a href="Concepts.html#LocalisedString">LocalisedString</a></span>]</span></span><span class="attribute-mode"> [R]</span></td><td class="description"> Lists the built-in commands of the core game.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaCommandProcessor.html#LuaCommandProcessor.object_name">object_name</a></span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span></span><span class="attribute-mode"> [R]</span></td><td class="description"> This object&#x27;s name.</td></tr></table></div></div><div class="element" id="LuaCommandProcessor"><div class="element" id="LuaCommandProcessor.add_command"><div class="element-header"><span class="element-name">add_command(name, help, function)</span></div><div class="element-content"><p > Add a custom console command.</p><p > </p><p > </p><p > </p><p >
 </p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">name</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span>:  The desired name of the command (case sensitive).</div><div ><span class="param-name">help</span> :: <span class="param-type"><a href="Concepts.html#LocalisedString">LocalisedString</a></span>:  The localised help message. It will be shown to players using the <code >/help</code> command.</div><div ><span class="param-name">function</span> :: <span class="param-type">function(<span class="param-type"><a href="Concepts.html#CustomCommandData">CustomCommandData</a></span>)</span>:  The function that will be called when this command is invoked.</div></div></div><div class="notes"><div class="note"><strong >Note: </strong> Trying to add a command with the <code >name</code> of a game command or the name of a custom command that is already in use will result in an error.</div></div><div class="example"><div class="example-header">Example</div>
   This will register a custom event called <code >print_tick</code> that prints the current tick to either the player issuing
     the command or to everyone on the server, depending on the command parameter. It shows the usage of the table
     that gets passed to any function handling a custom command. This specific example makes use of the <code >tick</code> and
     the optional <code >player_index</code> and <code >parameter</code> fields. The user is supposed to either call it without any
     parameter (<code >"/print_tick"</code>) or with the <code >"me"</code> parameter (<code >"/print_tick me"</code>).
   <div class="block-code-container"><code class="block">   commands.add_command("print_tick",&nbsp;nil,&nbsp;function(command)<br/>
   &nbsp;&nbsp;if&nbsp;command.player_index&nbsp;~=&nbsp;nil&nbsp;and&nbsp;command.parameter&nbsp;==&nbsp;"me"&nbsp;then<br/>
   &nbsp;&nbsp;&nbsp;&nbsp;game.get_player(command.player_index).print(command.tick)<br/>
   &nbsp;&nbsp;else<br/>
   &nbsp;&nbsp;&nbsp;&nbsp;game.print(command.tick)<br/>
   &nbsp;&nbsp;end<br/>
   end)</code></div>
 </div></div></div>
<div class="element" id="LuaCommandProcessor.remove_command"><div class="element-header"><span class="element-name">remove_command(name) &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></span></span></div><div class="element-content"><p > Remove a custom console command.
 </p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">name</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span>:  The name of the command to remove (case sensitive).</div></div></div><div class="detail"><div class="detail-header">Return value</div><div class="detail-content"> Whether the command was successfully removed. Returns <code >false</code> if the command didn&#x27;t exist.</div></div></div></div><div class="element" id="LuaCommandProcessor.commands"><div class="element-header"><span class="element-name">commands</span><span class="attribute-type"> :: <span class="param-type">dictionary[<span class="param-type"><a href="Builtin-Types.html#string">string</a></span> &rarr; <span class="param-type"><a href="Concepts.html#LocalisedString">LocalisedString</a></span>]</span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > Lists the custom commands registered by scripts through <code >LuaCommandProcessor</code>.
 </p></div></div>
<div class="element" id="LuaCommandProcessor.game_commands"><div class="element-header"><span class="element-name">game_commands</span><span class="attribute-type"> :: <span class="param-type">dictionary[<span class="param-type"><a href="Builtin-Types.html#string">string</a></span> &rarr; <span class="param-type"><a href="Concepts.html#LocalisedString">LocalisedString</a></span>]</span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > Lists the built-in commands of the core game. The <a href="https://wiki.factorio.com/Console"> wiki</a> has an overview of these.
 </p></div></div>
<div class="element" id="LuaCommandProcessor.object_name"><div class="element-header"><span class="element-name">object_name</span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > This object&#x27;s name.
 </p></div></div></div></body></html>