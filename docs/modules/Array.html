<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Erlib Documentation</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>ldoc</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Module">Module </a></li>
<li><a href="#Basic_Methods">Basic Methods </a></li>
<li><a href="#Search_Methods">Search Methods </a></li>
<li><a href="#In_Place_Methods">In-Place Methods </a></li>
<li><a href="#Copy_Methods">Copy Methods </a></li>
<li><a href="#Other_Methods">Other Methods </a></li>
<li><a href="#Conversion">Conversion </a></li>
<li><a href="#Metamethods">Metamethods </a></li>
</ul>


<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../modules/Core.html">Core</a></li>
  <li><a href="../modules/Types.html">Types</a></li>
  <li><a href="../modules/Concepts.html">Concepts</a></li>
  <li><a href="../modules/Cache.html">Cache</a></li>
  <li><a href="../modules/Data.html">Data</a></li>
  <li><a href="../modules/Template.html">Template</a></li>
  <li><a href="../modules/Entity.html">Entity</a></li>
  <li><a href="../modules/EventManager.html">EventManager</a></li>
  <li><a href="../modules/EventManagerLite.html">EventManagerLite</a></li>
  <li><a href="../modules/Force.html">Force</a></li>
  <li><a href="../modules/Gui.html">Gui</a></li>
  <li><a href="../modules/Locale.html">Locale</a></li>
  <li><a href="../modules/Player.html">Player</a></li>
  <li><a href="../modules/PluginManagerLite.html">PluginManagerLite</a></li>
  <li><a href="../modules/Prototype.html">Prototype</a></li>
  <li><a href="../modules/Remote.html">Remote</a></li>
  <li><a href="../modules/Setting.html">Setting</a></li>
  <li><a href="../modules/Stacktrace.html">Stacktrace</a></li>
  <li><a href="../modules/Train.html">Train</a></li>
  <li><a href="../modules/Wube.html">Wube</a></li>
  <li><strong>Array</strong></li>
  <li><a href="../modules/Class.html">Class</a></li>
  <li><a href="../modules/Coding.html">Coding</a></li>
  <li><a href="../modules/Color.html">Color</a></li>
  <li><a href="../modules/Compare.html">Compare</a></li>
  <li><a href="../modules/Debug.html">Debug</a></li>
  <li><a href="../modules/Error.html">Error</a></li>
  <li><a href="../modules/Filter.html">Filter</a></li>
  <li><a href="../modules/Iter.html">Iter</a></li>
  <li><a href="../modules/Lambda.html">Lambda</a></li>
  <li><a href="../modules/LocalisedString.html">LocalisedString</a></li>
  <li><a href="../modules/Lock.html">Lock</a></li>
  <li><a href="../modules/Log.html">Log</a></li>
  <li><a href="../modules/Logic.html">Logic</a></li>
  <li><a href="../modules/Math.html">Math</a></li>
  <li><a href="../modules/Meta.html">Meta</a></li>
  <li><a href="../modules/Polygon.html">Polygon</a></li>
  <li><a href="../modules/Replicate.html">Replicate</a></li>
  <li><a href="../modules/Set.html">Set</a></li>
  <li><a href="../modules/String.html">String</a></li>
  <li><a href="../modules/Table.html">Table</a></li>
  <li><a href="../modules/Time.html">Time</a></li>
  <li><a href="../modules/Tool.html">Tool</a></li>
  <li><a href="../modules/Vector.html">Vector</a></li>
  <li><a href="../modules/Verificate.html">Verificate</a></li>
  <li><a href="../modules/Version.html">Version</a></li>
  <li><a href="../modules/remotes.html">remotes</a></li>
  <li><a href="../modules/snippet.html">snippet</a></li>
  <li><a href="../modules/Babelfish.html">Babelfish</a></li>
</ul>
<h2>Source</h2>
<ul class="nowrap">
  <li><a href="../source/Introduction.html">Introduction</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>Array</code></h1>
<p>Numerically indexed table manipulation.</p>
<p> Optimized for speed.</p>

<p> <strong>Note:</strong> All methods of this module that return an array also set the
 metatable of the result to this module, except for in-place methods that
 recieve an input that already had a metatable.</p>

<p> <strong>Note:</strong> Some methods of this module apply their result directly to the
 input table to be faster. If you want the input table to be unaffected you
 can supply an (empty) table as the <em>target</em> to which the result should
 be written instead. This allows both in-place and copy-on-write operations
 to be handled by the same method at the same cpu-cost.</p>

<p> <strong>Note:</strong> This module inherits all <a href="../modules/Table.html#">Table</a> module methods. Same-named
 Array methods override inherited Table methods.</p>

<p> <a href="../source/Introduction.html#DevelopmentStatus">Module Status</a>: Polishing.</p>
    <h3>Usage:</h3>
    <ul>
        <pre class="example">local Array = require(&apos;__eradicators-library__/erlib/lua/Array&apos;)()
</pre>
    </ul>


<h2><a href="#Module">Module </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#Array">Array(arr)</a></td>
	<td class="summary">Attaches the Array modules metatable to any table.</td>
	</tr>
</table>
<h2><a href="#Basic_Methods">Basic Methods </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#size">size(arr)</a></td>
	<td class="summary">The size of this array.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#keys">keys(arr[, i=1[, j=#arr]])</a></td>
	<td class="summary">Produces an array of only the keys with <a href="../modules/Types.html#NotNil">NotNil</a> values of this array.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#values">values(arr[, i=1[, j=#arr]])</a></td>
	<td class="summary">Produces an array of only the <a href="../modules/Types.html#NotNil">NotNil</a> values of this array.</td>
	</tr>
</table>
<h2><a href="#Search_Methods">Search Methods </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#first_gap">first_gap(arr[, i=1[, j=infinity]])</a></td>
	<td class="summary">Finds the first nil value in an array.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#find">find(arr, value[, i=1[, j=#arr]])</a></td>
	<td class="summary">Finds the first occurance of a value in an array.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#find_all">find_all(arr, value[, i=1[, j=#arr]])</a></td>
	<td class="summary">Finds all occurances of a value in an array.</td>
	</tr>
</table>
<h2><a href="#In_Place_Methods">In-Place Methods </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#compress">compress(arr[, target=nil[, i=1[, j=Array.size(arr)]]])</a></td>
	<td class="summary"><strong>In-place.</strong> Compresses a <a href="../modules/Types.html#SparseArray">SparseArray</a> into a <a href="../modules/Types.html#DenseArray">DenseArray</a>.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#map">map(arr, f[, target=nil[, i=1[, j=#arr]]])</a></td>
	<td class="summary"><strong>In-place.</strong> Applies a function to all elements of an array.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#filter">filter(arr, f[, target=nil[, i=1[, j=#arr]]])</a></td>
	<td class="summary"><strong>In-place.</strong> Removes elements from an array based on a filter function.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#reverse">reverse(arr[, target=nil[, i=1[, j=#arr]]])</a></td>
	<td class="summary"><strong>In-place.</strong> Reverses the order of an array.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#insert_once">insert_once(arr, value[, i=1])</a></td>
	<td class="summary"><strong>In-place.</strong> Appends a value at the end of an array <strong>only if</strong> no other
 key in the array has an == equal value.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#insert_array">insert_array(arr, arr2, i[, target=nil])</a></td>
	<td class="summary"><strong>In-place.</strong> Puts one array into the middle of another.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#unsorted_remove_value">unsorted_remove_value(arr, value[, i=1])</a></td>
	<td class="summary"><strong>In-place.</strong> Replaces all instances of value with the then-last value of the array.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#unsorted_remove_key">unsorted_remove_key()</a></td>
	<td class="summary"><strong>Deprecated</strong>.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#shuffle_pop">shuffle_pop(arr, i)</a></td>
	<td class="summary"><strong>In-place.</strong> Moves the value at index #arr to index i.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#clear">clear(arr[, i=1[, j=#arr]])</a></td>
	<td class="summary"><strong>In-place.</strong> Sets all values to nil.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#extend">extend(arr, arr2[, i=1[, j=#arr2]])</a></td>
	<td class="summary"><strong>In-place.</strong> Inserts the content of arr2 at the end of arr.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#sort">sort(arr, comparator)</a></td>
	<td class="summary"><strong>In-place.</strong> Applies a sorting function to an array.</td>
	</tr>
</table>
<h2><a href="#Copy_Methods">Copy Methods </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#scopy">scopy(arr[, i=1[, j=#arr]])</a></td>
	<td class="summary"><strong>Shallow Copy.</strong> Copies (parts of) an array to a new table.</td>
	</tr>
</table>
<h2><a href="#Other_Methods">Other Methods </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#splice">splice(arr[, ...])</a></td>
	<td class="summary">Takes elements from multiple input tables and puts them
 into a flat array.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#fray">fray(arr, count[, i=1[, j=#arr]])</a></td>
	<td class="summary">Reverse of Array.splice().</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#flatten">flatten(arr)</a></td>
	<td class="summary"><strong>In-place.</strong> Removes subtables, keeps value order.</td>
	</tr>
</table>
<h2><a href="#Conversion">Conversion </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#from_iterator">from_iterator(f_iter)</a></td>
	<td class="summary"><strong>Experimental.</strong> Collects the output of a parameterless iterator function into an array.</td>
	</tr>
</table>
<h2><a href="#Metamethods">Metamethods </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#__concat">__concat()</a></td>
	<td class="summary">Concatenation with <code>..</code> is Array.extend().</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="Module"></a>Module </h2>

    <dl class="function">
    <dt>
    <a name = "Array"></a>
    <strong>Array(arr)</strong>
    </dt>
    <dd>
    Attaches the Array modules metatable to any table.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">arr</span>
            <span class="types"><a class="type" href="../lua-5.2/doc/manual.html#pdf-table">table</a></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a>, <a class="type" href="../modules/Types.html#SparseArray">SparseArray</a> or <a class="type" href="../modules/Types.html#MixedTable">MixedTable</a></span>
        The unchanged input table.
    </ol>




</dd>
</dl>
    <h2 class="section-header "><a name="Basic_Methods"></a>Basic Methods </h2>

    <dl class="function">
    <dt>
    <a name = "size"></a>
    <strong>size(arr)</strong>
    </dt>
    <dd>
    The size of this array. <br/>
 For <a href="../modules/Types.html#DenseArray">DenseArray</a>s
 <a href="../lua-5.2/doc/manual.html#3.4.6 ">the length operator #</a> is <strong>much faster</strong>. <br/>
 For <a href="../modules/Types.html#MixedTable">MixedTable</a>s you have to use <a href="../modules/Table.html#array_size">Table.array_size</a> instead.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">arr</span>
            <span class="types"><a class="type" href="../modules/Types.html#SparseArray">SparseArray</a></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a></span>



    </ol>




</dd>
    <dt>
    <a name = "keys"></a>
    <strong>keys(arr[, i=1[, j=#arr]])</strong>
    </dt>
    <dd>
    Produces an array of only the keys with <a href="../modules/Types.html#NotNil">NotNil</a> values of this array.
 Values are not preserved.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">arr</span>
            <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a> or <a class="type" href="../modules/Types.html#SparseArray">SparseArray</a></span>



        </li>
        <li><span class="parameter">i</span>
            <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a></span>
         First index to process. Mandatory for sparse input.
         (<em>default</em> 1)
        </li>
        <li><span class="parameter">j</span>
            <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a></span>
         Last index to process. Mandatory for sparse input.
         (<em>default</em> #arr)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a></span>



    </ol>




</dd>
    <dt>
    <a name = "values"></a>
    <strong>values(arr[, i=1[, j=#arr]])</strong>
    </dt>
    <dd>
    Produces an array of only the <a href="../modules/Types.html#NotNil">NotNil</a> values of this array.  Keys are not preserved.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">arr</span>
            <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a> or <a class="type" href="../modules/Types.html#SparseArray">SparseArray</a></span>



        </li>
        <li><span class="parameter">i</span>
            <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a></span>
         First index to process. Mandatory for sparse input.
         (<em>default</em> 1)
        </li>
        <li><span class="parameter">j</span>
            <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a></span>
         Last index to process. Mandatory for sparse input.
         (<em>default</em> #arr)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a></span>



    </ol>




</dd>
</dl>
    <h2 class="section-header "><a name="Search_Methods"></a>Search Methods </h2>

    <dl class="function">
    <dt>
    <a name = "first_gap"></a>
    <strong>first_gap(arr[, i=1[, j=infinity]])</strong>
    </dt>
    <dd>
    Finds the first nil value in an array.
 For DenseArrays this is equivalent to #arr+1.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">arr</span>
            <span class="types"><a class="type" href="../modules/Types.html#SparseArray">SparseArray</a></span>



        </li>
        <li><span class="parameter">i</span>
            <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a></span>
         First index to process.
         (<em>default</em> 1)
        </li>
        <li><span class="parameter">j</span>
            <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a></span>
         Last index to process.
         (<em>default</em> infinity)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a> or <a class="type" href="https://www.lua.org/pil/2.1.html">nil</a></span>
         The first index >= i, that has the
 value <a href="https://www.lua.org/pil/2.1.html">nil</a>. Or nil if a fixed range i,j was given and there
 were no nil values in that range. Or nil if array size exeeds
 <a href="https://en.wikipedia.org/wiki/IEEE754">IEEE754</a> double-precision floating-point range (2^53).
    </ol>




</dd>
    <dt>
    <a name = "find"></a>
    <strong>find(arr, value[, i=1[, j=#arr]])</strong>
    </dt>
    <dd>
    Finds the first occurance of a value in an array.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">arr</span>
            <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a> or <a class="type" href="../modules/Types.html#SparseArray">SparseArray</a></span>



        </li>
        <li><span class="parameter">value</span>
            <span class="types"><a class="type" href="../modules/Types.html#NotNil">NotNil</a></span>



        </li>
        <li><span class="parameter">i</span>
            <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a></span>
         First index to process. Mandatory for sparse input.
         (<em>default</em> 1)
        </li>
        <li><span class="parameter">j</span>
            <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a></span>
         Last index to process. Mandatory for sparse input.
         (<em>default</em> #arr)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a> or <a class="type" href="https://www.lua.org/pil/2.1.html">nil</a></span>
         The index of the <strong>first occurance</strong> of the value
 in the range i,j, or nil if value wasn't found.
    </ol>




</dd>
    <dt>
    <a name = "find_all"></a>
    <strong>find_all(arr, value[, i=1[, j=#arr]])</strong>
    </dt>
    <dd>
    Finds all occurances of a value in an array.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">arr</span>
            <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a> or <a class="type" href="../modules/Types.html#SparseArray">SparseArray</a></span>



        </li>
        <li><span class="parameter">value</span>
            <span class="types"><a class="type" href="../modules/Types.html#NotNil">NotNil</a></span>



        </li>
        <li><span class="parameter">i</span>
            <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a></span>
         First index to process. Mandatory for sparse input.
         (<em>default</em> 1)
        </li>
        <li><span class="parameter">j</span>
            <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a></span>
         Last index to process. Mandatory for sparse input.
         (<em>default</em> #arr)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a></span>
        A list of keys in arr that have the value. Can be empty.
    </ol>




</dd>
</dl>
    <h2 class="section-header "><a name="In_Place_Methods"></a>In-Place Methods </h2>

    <dl class="function">
    <dt>
    <a name = "compress"></a>
    <strong>compress(arr[, target=nil[, i=1[, j=Array.size(arr)]]])</strong>
    </dt>
    <dd>
    <strong>In-place.</strong> Compresses a <a href="../modules/Types.html#SparseArray">SparseArray</a> into a <a href="../modules/Types.html#DenseArray">DenseArray</a>.  The order of
 the elements is preserved. Can also compress partial ranges of the input,
 for example to split the compression into multiple steps.</p>

<p> <strong>Note:</strong> If you know the size of the array then giving it as j significantly
 improves performance.</p>

<p> <strong>Note:</strong> To compress <a href="../modules/Types.html#MixedTable">MixedTable</a>s you can give Table.array_size(arr) as j.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">arr</span>
            <span class="types"><a class="type" href="../modules/Types.html#SparseArray">SparseArray</a></span>



        </li>
        <li><span class="parameter">target</span>
            <span class="types"><a class="type" href="../lua-5.2/doc/manual.html#pdf-table">table</a></span>
         <strong>Copy Mode.</strong> This table will be changed and arr remains unchanged.
         (<em>default</em> nil)
        </li>
        <li><span class="parameter">i</span>
            <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a></span>
         First index to process. Mandatory for sparse input.
         (<em>default</em> 1)
        </li>
        <li><span class="parameter">j</span>
            <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a></span>
         Last index to process. Mandatory for sparse input.
         (<em>default</em> Array.size(arr))
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a></span>



    </ol>




</dd>
    <dt>
    <a name = "map"></a>
    <strong>map(arr, f[, target=nil[, i=1[, j=#arr]]])</strong>
    </dt>
    <dd>
    <strong>In-place.</strong> Applies a function to all elements of an array.  This function
 <strong>does not change</strong> the <a href="../modules/Types.html#KeyValuePair">(key → value)</a> relationship. Thus if the input array or
 partial range includes nil values, or f() returns nil values then the output
 will be sparse.</p>

<p> <strong>Note:</strong> Due to the inherit overhead of one extra function call per element
 performance impact should be carefully considered before using this to
 replace normal for-ipairs loops.</p>

<p> <strong>Experts only:</strong> Copy mode supports key reassignment like <a href="../modules/Table.html#map">Table.map</a>.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">arr</span>
            <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a> or <a class="type" href="../modules/Types.html#SparseArray">SparseArray</a></span>



        </li>
        <li><span class="parameter">f</span>
            <span class="types"><a class="type" href="https://www.lua.org/pil/2.6.html">function</a></span>
         The function f(value,index,arr) that is applied to every
 key→value mapping in the array.
        </li>
        <li><span class="parameter">target</span>
            <span class="types"><a class="type" href="../lua-5.2/doc/manual.html#pdf-table">table</a></span>
         <strong>Copy Mode.</strong> This table will be changed and
 arr remains unchanged.
         (<em>default</em> nil)
        </li>
        <li><span class="parameter">i</span>
            <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a></span>
         First index to process. Mandatory for sparse input.
         (<em>default</em> 1)
        </li>
        <li><span class="parameter">j</span>
            <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a></span>
         Last index to process. Mandatory for sparse input.
         (<em>default</em> #arr)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a> or <a class="type" href="../modules/Types.html#SparseArray">SparseArray</a></span>



    </ol>




</dd>
    <dt>
    <a name = "filter"></a>
    <strong>filter(arr, f[, target=nil[, i=1[, j=#arr]]])</strong>
    </dt>
    <dd>
    <strong>In-place.</strong> Removes elements from an array based on a filter function. </p>

<p> <strong>Note:</strong> Due to the inherit extra overhead of one function call per element
 this will always be slower than a simple for-pairs loop.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">arr</span>
            <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a> or <a class="type" href="../modules/Types.html#SparseArray">SparseArray</a></span>



        </li>
        <li><span class="parameter">f</span>
            <span class="types"><a class="type" href="https://www.lua.org/pil/2.6.html">function</a></span>
         Any elements for which the filter function f(value,index,arr)
 does not return <a href="../modules/Types.html#truthy">truthy</a> are removed from the array. And any
 following indexes are shifted down.
        </li>
        <li><span class="parameter">target</span>
            <span class="types"><a class="type" href="../lua-5.2/doc/manual.html#pdf-table">table</a></span>
         <strong>Copy Mode.</strong> This table will be changed and arr remains unchanged.
         (<em>default</em> nil)
        </li>
        <li><span class="parameter">i</span>
            <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a></span>
         First index to process. Mandatory for sparse input.
         (<em>default</em> 1)
        </li>
        <li><span class="parameter">j</span>
            <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a></span>
         Last index to process. Mandatory for sparse input.
         (<em>default</em> #arr)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a></span>
        Indexes will be shifted down if values have been deleted.
    </ol>




</dd>
    <dt>
    <a name = "reverse"></a>
    <strong>reverse(arr[, target=nil[, i=1[, j=#arr]]])</strong>
    </dt>
    <dd>
    <strong>In-place.</strong> Reverses the order of an array.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">arr</span>
            <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a> or <a class="type" href="../modules/Types.html#SparseArray">SparseArray</a></span>



        </li>
        <li><span class="parameter">target</span>
            <span class="types"><a class="type" href="../lua-5.2/doc/manual.html#pdf-table">table</a></span>
         <strong>Copy Mode.</strong> This table will be changed and arr remains unchanged.
         (<em>default</em> nil)
        </li>
        <li><span class="parameter">i</span>
            <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a></span>
         First index to process. Mandatory for sparse input.
         (<em>default</em> 1)
        </li>
        <li><span class="parameter">j</span>
            <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a></span>
         Last index to process. Mandatory for sparse input.
         (<em>default</em> #arr)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a> or <a class="type" href="../modules/Types.html#SparseArray">SparseArray</a></span>



    </ol>




</dd>
    <dt>
    <a name = "insert_once"></a>
    <strong>insert_once(arr, value[, i=1])</strong>
    </dt>
    <dd>
    <strong>In-place.</strong> Appends a value at the end of an array <strong>only if</strong> no other
 key in the array has an == equal value.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">arr</span>
            <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a></span>



        </li>
        <li><span class="parameter">value</span>
            <span class="types"><a class="type" href="../modules/Types.html#AnyValue">AnyValue</a></span>



        </li>
        <li><span class="parameter">i</span>
            <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a></span>
         Index to start searching at. Always searches
 to the end of the array.
         (<em>default</em> 1)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a></span>
        The input array.</li>
        <li>
           <span class="types"><a class="type" href="../api/Builtin-Types.html#boolean">boolean</a></span>
         false: element was already in array, true: element was
 inserted at the end.</li>
    </ol>




</dd>
    <dt>
    <a name = "insert_array"></a>
    <strong>insert_array(arr, arr2, i[, target=nil])</strong>
    </dt>
    <dd>
    <strong>In-place.</strong> Puts one array into the middle of another.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">arr</span>
            <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a></span>
         The array to insert into.
        </li>
        <li><span class="parameter">arr2</span>
            <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a></span>
         The array to be inserted.
        </li>
        <li><span class="parameter">i</span>
            <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a></span>
         The index at which to start inserting arr2.
 All values after i (inclusive) will be shifted backwards by the length of arr2.
        </li>
        <li><span class="parameter">target</span>
            <span class="types"><a class="type" href="../lua-5.2/doc/manual.html#pdf-table">table</a></span>
         <strong>Copy Mode.</strong> This table will be changed and arr remains unchanged.
         (<em>default</em> nil)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a></span>
        The array containing the merged result.
    </ol>




</dd>
    <dt>
    <a name = "unsorted_remove_value"></a>
    <strong>unsorted_remove_value(arr, value[, i=1])</strong>
    </dt>
    <dd>
    <strong>In-place.</strong> Replaces all instances of value with the then-last value of the array.
 For large arrays this is <strong>much faster</strong> than <a href="../lua-5.2/doc/manual.html#pdf-table.remove">table.remove</a>
 but does not preserver element order.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">arr</span>
            <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a></span>



        </li>
        <li><span class="parameter">value</span>
            <span class="types"><a class="type" href="../modules/Types.html#AnyValue">AnyValue</a></span>



        </li>
        <li><span class="parameter">i</span>
            <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a></span>
         Index to start searching at. Always searches
 to the end of the array.
         (<em>default</em> 1)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a></span>
        The input array.</li>
        <li>
           <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a></span>
        How often the value was removed.</li>
    </ol>




</dd>
    <dt>
    <a name = "unsorted_remove_key"></a>
    <strong>unsorted_remove_key()</strong>
    </dt>
    <dd>
    <strong>Deprecated</strong>.







</dd>
    <dt>
    <a name = "shuffle_pop"></a>
    <strong>shuffle_pop(arr, i)</strong>
    </dt>
    <dd>
    <strong>In-place.</strong> Moves the value at index #arr to index i.
 For large arrays this is <strong>much faster</strong> than <a href="../lua-5.2/doc/manual.html#pdf-table.remove">table.remove</a>
 but does not preserve value order.</p>

<p> <strong>Note:</strong> When i is out-of-bounds then the array remains unchanged.
 Unlike <a href="../lua-5.2/doc/manual.html#pdf-table.remove">table.remove</a> no error is raised. This is to allow easy
 key existance checking.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">arr</span>
            <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a></span>



        </li>
        <li><span class="parameter">i</span>
            <span class="types"><a class="type" href="../modules/Types.html#Integer">Integer</a></span>
         The index to remove.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../modules/Types.html#NotNil">NotNil</a> or <a class="type" href="https://www.lua.org/pil/2.1.html">nil</a></span>
        The value that <em>was</em> at <code>arr[i]</code>
    </ol>




</dd>
    <dt>
    <a name = "clear"></a>
    <strong>clear(arr[, i=1[, j=#arr]])</strong>
    </dt>
    <dd>
    <strong>In-place.</strong> Sets all values to nil.  Useful if you need to keep the table
 reference intact.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">arr</span>
            <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a> or <a class="type" href="../modules/Types.html#SparseArray">SparseArray</a></span>



        </li>
        <li><span class="parameter">i</span>
            <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a></span>
         First index to process. Mandatory for sparse input.
         (<em>default</em> 1)
        </li>
        <li><span class="parameter">j</span>
            <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a></span>
         Last index to process. Mandatory for sparse input.
         (<em>default</em> #arr)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../modules/Types.html#EmptyArray">EmptyArray</a>, <a class="type" href="../modules/Types.html#DenseArray">DenseArray</a> or <a class="type" href="../modules/Types.html#SparseArray">SparseArray</a></span>
        The input array.
    </ol>




</dd>
    <dt>
    <a name = "extend"></a>
    <strong>extend(arr, arr2[, i=1[, j=#arr2]])</strong>
    </dt>
    <dd>
    <strong>In-place.</strong> Inserts the content of arr2 at the end of arr.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">arr</span>
            <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a> or <a class="type" href="../modules/Types.html#SparseArray">SparseArray</a></span>
         The array that will be extended.
        </li>
        <li><span class="parameter">arr2</span>
            <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a> or <a class="type" href="../modules/Types.html#SparseArray">SparseArray</a></span>
         The array from which to shallow-copy the new content.
        </li>
        <li><span class="parameter">i</span>
            <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a></span>
         First index of arr2 to process. Mandatory for sparse input.
         (<em>default</em> 1)
        </li>
        <li><span class="parameter">j</span>
            <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a></span>
         Last index of arr2 to process. Mandatory for sparse input.
         (<em>default</em> #arr2)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a> or <a class="type" href="../modules/Types.html#SparseArray">SparseArray</a></span>
        The input array.
    </ol>




</dd>
    <dt>
    <a name = "sort"></a>
    <strong>sort(arr, comparator)</strong>
    </dt>
    <dd>
    <strong>In-place.</strong> Applies a sorting function to an array.
 See the <a href="../modules/Compare.html#">Compare</a> module for built-in comparing functions.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">arr</span>
            <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a></span>



        </li>
        <li><span class="parameter">comparator</span>
            <span class="types"><a class="type" href="https://www.lua.org/pil/2.6.html">function</a></span>
         A function f(a,b)→boolean which determines
 the final order.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a></span>



    </ol>




</dd>
</dl>
    <h2 class="section-header "><a name="Copy_Methods"></a>Copy Methods </h2>

    <dl class="function">
    <dt>
    <a name = "scopy"></a>
    <strong>scopy(arr[, i=1[, j=#arr]])</strong>
    </dt>
    <dd>
    <strong>Shallow Copy.</strong> Copies (parts of) an array to a new table.  Sub-tables
 will reference the original tables.</p>

<p> <strong>Note:</strong> This is a speed optimized array-only variant of <a href="../modules/Table.html#scopy">Table.scopy</a>.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">arr</span>
            <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a> or <a class="type" href="../modules/Types.html#SparseArray">SparseArray</a></span>



        </li>
        <li><span class="parameter">i</span>
            <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a></span>
         First index to process. Mandatory for sparse input.
         (<em>default</em> 1)
        </li>
        <li><span class="parameter">j</span>
            <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a></span>
         Last index to process. Mandatory for sparse input.
         (<em>default</em> #arr)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a> or <a class="type" href="../modules/Types.html#SparseArray">SparseArray</a></span>
         Indexes will be exactly as in the input.
 Even for partial copies.
    </ol>




</dd>
</dl>
    <h2 class="section-header "><a name="Other_Methods"></a>Other Methods </h2>

    <dl class="function">
    <dt>
    <a name = "splice"></a>
    <strong>splice(arr[, ...])</strong>
    </dt>
    <dd>
    Takes elements from multiple input tables and puts them
 into a flat array.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">arr</span>
            <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a></span>



        </li>
        <li><span class="parameter">...</span>
            <span class="types"><a class="type" href="../modules/Types.html#AnyValue">AnyValue</a></span>
         Not giving any extra inputs is equivalent to
 <a href="../modules/Array.html#scopy">Array.scopy</a>(arr). If a table is given its values will be taken from
 the same key as the preceeding value of arr. If a non-table is given
 it will simply be repeated.
         (<em>optional</em>)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a> or <a class="type" href="../modules/Types.html#SparseArray">SparseArray</a></span>



    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> spliced_array = Array.splice({<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>},<span class="number">42</span>,{<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>},<span class="keyword">nil</span>,<span class="string">'end'</span>)
<span class="global">print</span>(spliced_array:to_string())
&gt; {<span class="number">1</span>, <span class="number">42</span>, <span class="string">"a"</span>, <span class="keyword">nil</span>, <span class="string">"end"</span>, <span class="number">2</span>, <span class="number">42</span>, <span class="string">"b"</span>, <span class="keyword">nil</span>, <span class="string">"end"</span>, <span class="number">3</span>, <span class="number">42</span>, <span class="string">"c"</span>, <span class="keyword">nil</span>, <span class="string">"end"</span>}
</pre>
    </ul>

</dd>
    <dt>
    <a name = "fray"></a>
    <strong>fray(arr, count[, i=1[, j=#arr]])</strong>
    </dt>
    <dd>
    Reverse of Array.splice().  Splits a large array into
 sub-arrays.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">arr</span>
            <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a> or <a class="type" href="../modules/Types.html#SparseArray">SparseArray</a></span>



        </li>
        <li><span class="parameter">count</span>
            <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a></span>
         How many sub-tables should be constructed from
 the input array. When giving a i,j range it must be divisable by count without
 rest.
        </li>
        <li><span class="parameter">i</span>
            <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a></span>
         First index to process. Mandatory for sparse input.
         (<em>default</em> 1)
        </li>
        <li><span class="parameter">j</span>
            <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a></span>
         Last index to process. Mandatory for sparse input.
         (<em>default</em> #arr)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a></span>
         Array of arrays. If the input was made using Array.splice()
 with non-table inputs then those inputs will <strong>not</strong> be reconstructed.
 They will instead return a table with repetitions of the value.
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">-- Using the same array as above...
</span><span class="keyword">local</span> spliced_array = Array.splice({<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>},<span class="number">42</span>,{<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>},<span class="keyword">nil</span>,<span class="string">'end'</span>)
<span class="comment">-- Which was made of 5 inputs, but one of them was nil, so the
</span><span class="comment">-- output is a SparseArray and thus range specification is mandatory.
</span><span class="global">print</span>(spliced_array:fray(<span class="number">5</span>,<span class="number">1</span>,<span class="number">15</span>):to_string())
&gt; {{<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>}, {<span class="number">42</span>,<span class="number">42</span>,<span class="number">42</span>}, {<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>}, {<span class="keyword">nil</span>,<span class="keyword">nil</span>,<span class="keyword">nil</span>}, {<span class="string">"end"</span>,<span class="string">"end"</span>,<span class="string">"end"</span>}}
<span class="comment">-- partial ranges will return partial results.
</span><span class="global">print</span>(spliced_array:fray(<span class="number">5</span>,<span class="number">6</span>,<span class="number">10</span>):to_string())
&gt; {{<span class="number">2</span>}, {<span class="number">42</span>}, {<span class="string">"b"</span>}, {<span class="keyword">nil</span>}, {<span class="string">"end"</span>}}
</pre>
    </ul>

</dd>
    <dt>
    <a name = "flatten"></a>
    <strong>flatten(arr)</strong>
    </dt>
    <dd>
    <strong>In-place.</strong> Removes subtables, keeps value order. </p>

<p> <strong>Note:</strong> Recursive tables and factorio objects
 are not supported and will produce garbage results.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">arr</span>
            <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a></span>
         A nested array.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a></span>



    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">-- a chaotically nested array
</span><span class="keyword">local</span> arr = {{{{}}},<span class="number">1</span>,<span class="number">2</span>,{<span class="number">3</span>,<span class="number">4</span>,{<span class="number">5</span>,<span class="number">6</span>},{<span class="number">7</span>}},<span class="number">8</span>,{{{{<span class="number">9</span>,{{<span class="number">10</span>}}}}}}}
<span class="global">print</span>(Array.flatten(arr):to_string())
&gt; {<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>}
</pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="Conversion"></a>Conversion </h2>

    <dl class="function">
    <dt>
    <a name = "from_iterator"></a>
    <strong>from_iterator(f_iter)</strong>
    </dt>
    <dd>
    <strong>Experimental.</strong> Collects the output of a parameterless iterator function into an array.
 All return values of each call of f_iter() are packed
 into a sub-array of the output array.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">f_iter</span>
            <span class="types"><a class="type" href="https://www.lua.org/pil/2.6.html">function</a></span>
         The iterator function.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="../modules/Types.html#DenseArray">DenseArray</a></span>
        An array of return value arrays.</li>
        <li>
           <span class="types"><a class="type" href="../modules/Types.html#NaturalNumber">NaturalNumber</a></span>
        The length of the returned array.</li>
    </ol>




</dd>
</dl>
    <h2 class="section-header "><a name="Metamethods"></a>Metamethods </h2>

    <dl class="function">
    <dt>
    <a name = "__concat"></a>
    <strong>__concat()</strong>
    </dt>
    <dd>
    Concatenation with <code>..</code> is Array.extend().







</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
<i style="float:right;">Last updated 2021-07-13 14:56:44 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
