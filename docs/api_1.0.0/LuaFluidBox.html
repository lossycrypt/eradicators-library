<!DOCTYPE html><html lang="en"><head ><title >LuaFluidBox</title><meta charset="UTF-8"/><link rel="stylesheet" type="text/css" href="lua-doc.css"/><script rel="stylesheet" type="text/javascript" src="lua-doc.js"></script></head><body ><div class="navigation-bar"><span class="navigation"><a href="index.html">Factorio</a> &raquo; <a href="Classes.html">Classes</a> &raquo; LuaFluidBox</span><span class="version">Factorio 1.0.0</span></div><h1 >LuaFluidBox</h1><div class="brief-description"><p > An array of fluid boxes of an entity. Entities may contain more than one fluid box, and some can change the number
 of fluid boxes -- for instance, an assembling machine will change its number of fluid boxes depending
 on its active recipe.</p><p > See <a href="Concepts.html#Fluid">Fluid</a></p><p > Do note that reading from a <a href="LuaFluidBox.html">LuaFluidBox</a> creates a new table and writing will copy the given
 fields from the table into the engine&#x27;s own fluid box structure. Therefore, the correct way to update
 a fluidbox of an entity is to read it first, modify the table, then write the modified table back.
 Directly accessing the returned table&#x27;s attributes won&#x27;t have the desired effect.
 </p><div class="example"><div class="example-header">Example</div>
   Double the temperature of the fluid in <code >entity</code>&#x27;s first fluid box.
   <div class="block-code-container"><code class="block">   fluid&nbsp;=&nbsp;entity.fluidbox[1]<br/>
   fluid.temperature&nbsp;=&nbsp;fluid.temperature&nbsp;*&nbsp;2<br/>
   entity.fluidbox[1]&nbsp;=&nbsp;fluid</code></div>
 </div></div><div class="brief-listing"><div class="brief-listing" id="LuaFluidBox.brief">class <span class="type-name">LuaFluidBox</span> - <a class="sort" href="javascript:void(0)" onclick="sort('LuaFluidBox.brief');">sort</a><table class="brief-members"><tr ><td class="header"><span class="element-name"><a href="LuaFluidBox.html#LuaFluidBox.get_prototype">get_prototype</a>(index) &rarr; <span class="return-type"><span class="param-type"><a href="LuaFluidBoxPrototype.html">LuaFluidBoxPrototype</a></span></span></span></td><td class="description"> The prototype of this fluidbox index.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaFluidBox.html#LuaFluidBox.get_capacity">get_capacity</a>(index) &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#double">double</a></span></span></span></td><td class="description"> The capacity of the given fluidbox index.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaFluidBox.html#LuaFluidBox.get_connections">get_connections</a>(index) &rarr; <span class="return-type"><span class="param-type">array of <span class="param-type"><a href="LuaFluidBox.html">LuaFluidBox</a></span></span></span></span></td><td class="description"> The fluidbox connections for the given fluidbox index.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaFluidBox.html#LuaFluidBox.get_filter">get_filter</a>(index) &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#table">table</a></span></span></span></td><td class="description"> The filter of the given fluidbox index, &#x27;nil&#x27; if none.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaFluidBox.html#LuaFluidBox.set_filter">set_filter</a>(index, table) &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></span></span></td><td class="description"> Set the filter of the given fluidbox index, &#x27;nil&#x27; to clear.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaFluidBox.html#LuaFluidBox.get_flow">get_flow</a>(index) &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#double">double</a></span></span></span></td><td class="description"> Flow through the fluidbox in the last tick.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaFluidBox.html#LuaFluidBox.get_locked_fluid">get_locked_fluid</a>(index) &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#string">string</a></span></span></span></td><td class="description"> Returns the fluid the fluidbox is locked onto
 Returns &#x27;nil&#x27; for no lock
  </td></tr><tr ><td class="header"><span class="element-name"><a href="LuaFluidBox.html#LuaFluidBox.flush">flush</a>(index, fluid) &rarr; <span class="return-type"><span class="param-type">dictionary <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> &rarr; <span class="param-type"><a href="Builtin-Types.html#float">float</a></span></span></span></span></td><td class="description"> Flushes all fluid from this fluidbox and its fluid system.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaFluidBox.html#LuaFluidBox.operator #">operator #</a></span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></span><span class="attribute-mode"> [R]</span></td><td class="description">  Number of fluid boxes.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaFluidBox.html#LuaFluidBox.owner">owner</a></span><span class="attribute-type"> :: <span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span></span><span class="attribute-mode"> [R]</span></td><td class="description"> The entity that owns this fluidbox.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaFluidBox.html#LuaFluidBox.operator []">operator []</a></span><span class="attribute-type"> :: <span class="param-type"><span class="param-type"><a href="Concepts.html#Fluid">Fluid</a></span> or <span class="param-type">nil</span></span></span><span class="attribute-mode"> [R]</span></td><td class="description">  Access, set or clear a fluid box.</td></tr><tr ><td class="header"><span class="element-name"><a href="Common.html#Common.valid">valid</a></span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></span><span class="attribute-mode"> [R]</span></td><td class="description">
        Is this object valid?</td></tr><tr ><td class="header"><span class="element-name"><a href="Common.html#Common.help">help</a>() &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#string">string</a></span></span></span></td><td class="description">
        All methods, and properties that this object supports.</td></tr></table></div></div><div class="element" id="LuaFluidBox"><div class="element" id="LuaFluidBox.get_prototype"><div class="element-header"><span class="element-name">get_prototype(index) &rarr; <span class="return-type"><span class="param-type"><a href="LuaFluidBoxPrototype.html">LuaFluidBoxPrototype</a></span></span></span></div><div class="element-content"><p > The prototype of this fluidbox index.
 </p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">index</span> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></div></div></div></div></div>
<div class="element" id="LuaFluidBox.get_capacity"><div class="element-header"><span class="element-name">get_capacity(index) &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#double">double</a></span></span></span></div><div class="element-content"><p > The capacity of the given fluidbox index.
 </p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">index</span> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></div></div></div></div></div>
<div class="element" id="LuaFluidBox.get_connections"><div class="element-header"><span class="element-name">get_connections(index) &rarr; <span class="return-type"><span class="param-type">array of <span class="param-type"><a href="LuaFluidBox.html">LuaFluidBox</a></span></span></span></span></div><div class="element-content"><p > The fluidbox connections for the given fluidbox index.
 </p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">index</span> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></div></div></div></div></div>
<div class="element" id="LuaFluidBox.get_filter"><div class="element-header"><span class="element-name">get_filter(index) &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#table">table</a></span></span></span></div><div class="element-content"><p > The filter of the given fluidbox index, &#x27;nil&#x27; if none.
 </p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">index</span> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></div></div></div><div class="detail"><div class="detail-header">Return value</div><div class="detail-content"> <ul class="field-list"><li ><span class="param-name">name</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span>:  Fluid prototype name of the filtered fluid.</li><li ><span class="param-name">minimum_temperature</span> :: <span class="param-type"><a href="Builtin-Types.html#double">double</a></span>:  The minimum temperature allowed into the fluidbox</li><li ><span class="param-name">maximum_temperature</span> :: <span class="param-type"><a href="Builtin-Types.html#double">double</a></span>:  The maximum temperature allowed into the fluidbox</li></ul> or &#x27;nil&#x27;.</div></div></div></div>
<div class="element" id="LuaFluidBox.set_filter"><div class="element-header"><span class="element-name">set_filter(index, table) &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></span></span></div><div class="element-content"><p > Set the filter of the given fluidbox index, &#x27;nil&#x27; to clear.
 Some entities cannot have their fluidbox filter set, notably fluid wagons and crafting machines.
 </p><p > </p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">index</span> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></div><div ><span class="param-name">table</span>:  Table with the following fields: <ul class="field-list"><li ><span class="param-name">name</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span>:  Fluid prototype name of the filtered fluid.</li><li ><span class="param-name">minimum_temperature</span> :: <span class="param-type"><a href="Builtin-Types.html#double">double</a></span> <span class="opt"> (optional)</span>:  The minimum temperature allowed into the fluidbox</li><li ><span class="param-name">maximum_temperature</span> :: <span class="param-type"><a href="Builtin-Types.html#double">double</a></span> <span class="opt"> (optional)</span>:  The maximum temperature allowed into the fluidbox</li><li ><span class="param-name">force</span> :: <span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span> <span class="opt"> (optional)</span>:  Force the filter to be set, regardless of current fluid content.</li></ul> or &#x27;nil&#x27;.</div></div></div><div class="detail"><div class="detail-header">Return value</div><div class="detail-content"> If the filter was set successfully.</div></div></div></div>
<div class="element" id="LuaFluidBox.get_flow"><div class="element-header"><span class="element-name">get_flow(index) &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#double">double</a></span></span></span></div><div class="element-content"><p > Flow through the fluidbox in the last tick. It is the larger of in-flow and out-flow.
 Note that wagons do not track it and will return 0.
 </p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">index</span> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></div></div></div></div></div>
<div class="element" id="LuaFluidBox.get_locked_fluid"><div class="element-header"><span class="element-name">get_locked_fluid(index) &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#string">string</a></span></span></span></div><div class="element-content"><p > Returns the fluid the fluidbox is locked onto
 Returns &#x27;nil&#x27; for no lock
 </p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">index</span> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></div></div></div></div></div>
<div class="element" id="LuaFluidBox.flush"><div class="element-header"><span class="element-name">flush(index, fluid) &rarr; <span class="return-type"><span class="param-type">dictionary <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> &rarr; <span class="param-type"><a href="Builtin-Types.html#float">float</a></span></span></span></span></div><div class="element-content"><p > Flushes all fluid from this fluidbox and its fluid system.
 </p><p > </p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">index</span> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></div><div ><span class="param-name">fluid</span> :: <span class="param-type"><a href="Concepts.html#FluidSpecification">FluidSpecification</a></span> <span class="opt"> (optional)</span>:  If provided, only this fluid is flushed.</div></div></div><div class="detail"><div class="detail-header">Return value</div><div class="detail-content"> The fluid removed.</div></div></div></div><div class="element" id="LuaFluidBox.operator #"><div class="element-header"><span class="element-name">operator #</span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > </p><p > Number of fluid boxes.
</p></div></div>
<div class="element" id="LuaFluidBox.owner"><div class="element-header"><span class="element-name">owner</span><span class="attribute-type"> :: <span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > The entity that owns this fluidbox.
 </p></div></div>
<div class="element" id="LuaFluidBox.operator []"><div class="element-header"><span class="element-name">operator []</span><span class="attribute-type"> :: <span class="param-type"><span class="param-type"><a href="Concepts.html#Fluid">Fluid</a></span> or <span class="param-type">nil</span></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > </p><p > Access, set or clear a fluid box. The index must always be in bounds (see <a href="LuaFluidBox.html#LuaFluidBox.operator #">LuaFluidBox::operator #</a>);
 new fluidboxes may not be added or removed using this operator. If the given fluid box doesn&#x27;t contain any
 fluid, <code >nil</code> is returned. Similarly, <code >nil</code> can be written to a fluid box to remove all fluid from it.
</p></div></div></div></body></html>